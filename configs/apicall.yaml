# Configuración del microservicio Apicall
# Copia este archivo a /etc/apicall/apicall.yaml

# Servidor FastAGI
fastagi:
  host: "0.0.0.0"
  port: 4573

# Cliente AMI (Asterisk Manager Interface)
ami:
  host: "127.0.0.1"
  port: 5038
  username: "cron"            # CAMBIAR: usuario AMI
  secret: "1234"            # CAMBIAR: contraseña AMI
  reconnect_interval: 5       # Segundos entre reconexiones

# API REST
api:
  host: "0.0.0.0"
  port: 8080
  enable_cors: false

# Base de datos
database:
  host: "127.0.0.1"
  port: 3307
  username: "apicall"            # CAMBIAR: usuario MySQL/MariaDB
  password: "apicall_pass"       # CAMBIAR: contraseña MySQL/MariaDB
  database: "apicall_db"
  max_open_conns: 100
  max_idle_conns: 25

# Asterisk
asterisk:
  sound_path: "/var/lib/asterisk/sounds/apicall"  # Ruta de archivos de audio
  max_cps: 400 # Límite de llamadas por segundo (Spooler) - Test de estrés extremo
  default_context: "apicall_context"              # Contexto para entradas FastAGI
  outbound_context: "apicall_outbound"            # Contexto para salidas

# Logging
log:
  level: "info"  # debug, info, warn, error
  format: "json" # json, text
